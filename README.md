# Домашнее задание к занятию "`Кластеризация и балансировка нагрузки`" - `Савкин Илья`

---

### Задание 1

`Настройте балансировку Round-robin на 4 уровне с помощью HAProxy`

`Этапы выполнения`

1. `Запуск двух простых HTTP-серверов на Python'
   `Порт 8888 → Server 1 - Port 8888`
   `Порт 9999 → Server 2 - Port 9999`
3. `Установка и настройка HAProxy`
   `Установлен пакет haproxy`
   `Настроен TCP-балансировщик на порту 8080 с алгоритмом roundrobin`
4. `Проверка балансировки`

   `Выполнено 6 запросов → чередование серверов 1 → 2 → 1 → 2...`
   
   `Конфигурация haproxy.cfg`
   
[Конфигурация haproxy.cfg](configs/haproxy.cfg)

![Результат тестирования](img/121212.png)
![Статистика HAProxy](img/status.png)

---

### Задание 2

`Этапы выполнения`

1. `Запуск трёх HTTP-серверов`
   `9001 → вес 2`
   `9002 → вес 3`
   `9003 → вес 4`
2. `Настройка /etc/hosts`
   `127.0.0.1 localhost example.local`
3. `Настройка HAProxy (L7)`
   
[Конфигурация haproxy-2.cfg](configs/haproxy-2.cfg)
    
  ![Результат тестирования](img/test2.png)
    
---
